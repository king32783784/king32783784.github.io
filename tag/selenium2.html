<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
Design by Free CSS Templates
http://www.freecsstemplates.org
Released for free under a Creative Commons Attribution 2.5 License

Name       : Brown Stone  
Description: A two-column, fixed-width design with dark color scheme.
Version    : 1.0
Released   : 20100928

-->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>Hi | World - Selenium</title>
<link href="../theme/css/style.css" rel="stylesheet" type="text/css" media="screen" />
<link href="../" type="application/atom+xml" rel="alternate" title="Hi | World ATOM Feed" />
</head>
<body>
<div id="wrapper">
	<div id="page">
		<div id="page-bgtop">
			<div id="page-bgbtm">
 
        
				<div id="content">
					<div class="post">
						<h2 class="title"><a href="../2015/01/25/selenium/">selenium-Sample(三）</a></h2>
						<p class="meta"><span class="date">日期  </span><span class="posted">By <a href="#">peng.lee</a></span><span>&nbsp; | 分类 : <a href="../category/misc.html">misc</a></span></p>
					<p class="meta">Tags : <span><a href="../tag/selenium.html">Selenium</a> / </span>
</p>
						<div style="clear: both;">&nbsp;</div>
						<div class="entry">
						 <body><h4 id="shi-li-5-tuo-fang-draghe-drop">示例５　拖放drag和drop</h4>
<p>代码：</p>
<div class="highlight"><pre><span></span><span class="c1"># -*- coding: utf-8 -*-</span>

<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.common.action_chains</span> <span class="kn">import</span> <span class="n">ActionChains</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.support.ui</span> <span class="kn">import</span> <span class="n">Select</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.common.keys</span> <span class="kn">import</span> <span class="n">Keys</span>

<span class="c1"># bugzilla address</span>
<span class="n">url</span> <span class="o">=</span> <span class="s2">"http://192.168.32.3/"</span>

<span class="k">class</span> <span class="nc">Testdrog_drop</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Firefox</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">getpage</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="n">element</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s2">"forgot_link_bottom"</span><span class="p">)</span>
        <span class="n">target</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s2">"//*[@id='quicksearch_main']"</span><span class="p">)</span>
        <span class="n">action_chains</span> <span class="o">=</span> <span class="n">ActionChains</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="p">)</span>
        <span class="n">action_chains</span><span class="o">.</span><span class="n">drag_and_drop</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span><span class="o">.</span><span class="n">perform</span><span class="p">()</span>
        <span class="n">actions</span> <span class="o">=</span> <span class="n">ActionChains</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="p">)</span>
        <span class="n">elem</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s2">"find"</span><span class="p">)</span>
        <span class="n">actions</span><span class="o">.</span><span class="n">move_to_element</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
        <span class="n">actions</span><span class="o">.</span><span class="n">click</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span>
        <span class="n">actions</span><span class="o">.</span><span class="n">perform</span><span class="p">()</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s1">'__main__'</span><span class="p">:</span>
    <span class="n">testdrop</span> <span class="o">=</span> <span class="n">Testdrog_drop</span><span class="p">()</span>
    <span class="n">testdrop</span><span class="o">.</span><span class="n">getpage</span><span class="p">()</span>
</pre></div>
<p>说明：</p>
<div class="highlight"><pre><span></span>element = self.driver.find_element_by_id("forgot_link_bottom")　＃获取源元素
target = self.driver.find_element_by_xpath("//*[@id='quicksearch_main']")　#获取移动到的元素
action_chains = ActionChains(self.driver)
action_chains.drag_and_drop(element, target).perform()　#执行拖放
</pre></div>
<h4 id="shi-li-6-dan-chu-dui-hua-kuang-shi-li">示例6 弹出对话框示例</h4>
<p>代码：</p>
<table class="table highlighttable table-striped table-hover"><tbody><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash/env python</span>
<span class="c1"># -*- coding: utf-8 -*-</span>

<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.common.action_chains</span> <span class="kn">import</span> <span class="n">ActionChains</span>

<span class="c1"># bugzilla address</span>
<span class="n">url</span> <span class="o">=</span> <span class="s2">"http://192.168.32.3/"</span>

<span class="k">class</span> <span class="nc">Testdrog_drop</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Firefox</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">getpage</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s2">"find"</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">alert</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">switch_to_alert</span><span class="p">()</span><span class="err">　</span><span class="c1">#获取警告对话框</span>
        <span class="n">alert</span><span class="o">.</span><span class="n">accept</span><span class="p">()</span><span class="err">　　＃确定警告对话框</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s1">'__main__'</span><span class="p">:</span>
    <span class="n">testdrop</span> <span class="o">=</span> <span class="n">Testdrog_drop</span><span class="p">()</span>
    <span class="n">testdrop</span><span class="o">.</span><span class="n">getpage</span><span class="p">()</span>
</pre></div>
</td></tr></tbody></table>
<h4 id="shi-li-7-li-shi-ji-lu-he-wei-zhi-shi-li">示例７　历史记录和位置示例</h4>
<p>代码
    #!/bin/bash/env python
    # -<em>- coding: utf-8 -</em>-</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.common.action_chains</span> <span class="kn">import</span> <span class="n">ActionChains</span>

<span class="c1"># bugzilla address</span>

<span class="n">url</span> <span class="o">=</span> <span class="s2">"http://192.168.32.3/"</span>

<span class="k">class</span> <span class="nc">TestHistory</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Firefox</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">getpage</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s2">"enter_bug"</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">testhistory</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">getpage</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">back</span><span class="p">()</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">forward</span><span class="p">()</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s2">"__main__"</span><span class="p">:</span>
    <span class="n">testhistory</span> <span class="o">=</span> <span class="n">TestHistory</span><span class="p">()</span>
    <span class="n">testhistory</span><span class="o">.</span><span class="n">testhistory</span><span class="p">()</span>
</pre></div>
<p>说明：　</p>
<p>self.driver.back()和self.driver.forward()　实现了页面的返回和前进。</p>
<h4 id="shi-li-8-cookiestian-jia">示例８　Cookies添加</h4>
<p>代码：
    #!/bin/bash/env python
    # <em>-</em> coding: utf-8 <em>-</em></p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>


<span class="k">class</span> <span class="nc">TestCookie</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Firefox</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">getcookie</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"http://www.baidu.com"</span><span class="p">)</span>
        <span class="n">cookieslist</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">get_cookies</span><span class="p">()</span>
        <span class="k">print</span><span class="p">(</span><span class="n">cookieslist</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">addcookie</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">getcookie</span><span class="p">()</span>
        <span class="n">cookie</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'name'</span><span class="p">:</span> <span class="s1">'test01'</span><span class="p">,</span> <span class="s1">'value'</span><span class="p">:</span> <span class="s1">'test02'</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">add_cookie</span><span class="p">(</span><span class="n">cookie</span><span class="p">)</span>
        <span class="n">cookieslist</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">get_cookies</span><span class="p">()</span>
        <span class="k">print</span><span class="p">(</span><span class="n">cookieslist</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>


<span class="k">if</span> <span class="n">__name__</span>  <span class="o">==</span> <span class="s2">"__main__"</span><span class="p">:</span>
    <span class="n">testcookie</span> <span class="o">=</span> <span class="n">TestCookie</span><span class="p">()</span>
    <span class="n">testcookie</span><span class="o">.</span><span class="n">addcookie</span><span class="p">()</span>
</pre></div>
<p>说明：  cookie格式为字典包括"name"和&ldquo;value"两个键值对。add_cookie方法将cookie添加到cookies中。</p>
<p><img class="img-responsive" height="380" src="https://d2lm6fxwu08ot6.cloudfront.net/img-thumbs/280h/WBB0EXYSWE.jpg" width="420"/></p>
<p>上一篇<a href="https://king32783784.github.io/2015/01/24/selenium/">selenium-Sample(二)</a>
下一篇<a href="https://king32783784.github.io/2015/01/26/selenium/">selenium-Sample(四)</a></p></body>	
						</div>
					</div>
	
			                <div class="post">
			                        <h2 class="title">Autres articles</h2>
			                </div>
        
 
			                <div class="post summary">
						<h2 class="title"><a href="../2015/01/24/selenium/">selenium-Sample(二）</a></h2>
						<p class="meta"><span class="date">日期 六 24 一月 2015</span><span class="posted">By <a href="#">peng.lee</a></span></p>
						<div style="clear: both;">&nbsp;</div>
						<div class="entry">
						 <body><h3 id="chang-jian-ying-yong-de-shi-li">常见应用的示例</h3>
<p><strong>Sample List</strong></p>
<p><strong>填写表单示例1-自动设置bugzilla Simple Search</strong></p>
<p><strong>填写表单示例2-自动设置bugzilla Advanced Search</strong></p>
<p><strong>拖放drag和drop示例-待定</strong></p>
<p><strong>窗口和框架之间移动示例-待定</strong></p>
<p><strong>弹出对话框示例-待定</strong></p>
<p><strong>历史记录和位置示例-待定</strong></p>
<p><strong>Cookies示例-待定</strong></p>
<p><strong>元素定位不同方式示例-待定</strong></p>
<div class="highlight"><pre><span></span>ID定位
名称定位
Xpath定位
链接文本定位超链接
Tag Name定位
class name定位
css选择器定位
</pre></div>
<p><strong>等待-不同条件显示等待示例-待定</strong></p>
<div class="highlight"><pre><span></span>title_is
title_contains
presence_of_element_locate
visibility_of_element_located
visibility_of
presence_of_all_elements_located
text_to_be_present_in_element_value
text_to_be_present_in_element
frame_to_be_available_and_switch_to_it
invisibility_of_element_located
elements_to_be_clickable-it is Displayed and Enabled
staleness_of
element_to_be_selected
element_located_to_be_selected
element_selection_state_to_be
element_located_selection_state_to_be
arelt_is_present
</pre></div>
<p><strong>等待-等待示例-隐式等待</strong></p>
<p><strong>页面对象设计模式示例</strong></p>
<p>... ...</p>
<p><img class="img-responsive" height="280" src="https://d2lm6fxwu08ot6.cloudfront.net/img-thumbs/280h/RGBIHR91YT.jpg" width="420"/></p>
<p><strong>示例3. 填写表单示例1-自动设置bugzilla ...</strong></p></body>	
						 <a class="readmore" href="../2015/01/24/selenium/">Lire la suite …</a>
						</div>
					</div>
        
 
			                <div class="post summary">
						<h2 class="title"><a href="../2015/01/23/selenium/">selenium-Sample(一）</a></h2>
						<p class="meta"><span class="date">日期 五 23 一月 2015</span><span class="posted">By <a href="#">peng.lee</a></span></p>
						<div style="clear: both;">&nbsp;</div>
						<div class="entry">
						 <body><h3 id="ying-yong-shi-li">应用示例</h3>
<p><strong>1.通过selenium爬取"https://stocksnap.io/"上的图片。</strong></p>
<p>简要说明，通过selenium打开firefox浏览器，导航到指定网址；然后定位到图片源地址，并保存；然后调用urllib模块，下载图片到指定位置。</p>
<p>代码如下：</p>
<div class="highlight"><pre><span></span>    <span class="c1">#!/bin/bash/env python</span>
    <span class="c1"># -*- coding: utf-8 -*-</span>
    <span class="kn">import</span> <span class="nn">time</span>
    <span class="kn">import</span> <span class="nn">urllib</span>
    <span class="kn">import</span> <span class="nn">urllib2</span>
    <span class="kn">import</span> <span class="nn">re</span>
    <span class="kn">import</span> <span class="nn">os</span>
    <span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>

    <span class="c1"># 爬取页面地址  </span>
    <span class="n">url</span> <span class="o">=</span> <span class="s2">"https://stocksnap.io/"</span>

    <span class="k">class</span> <span class="nc">GetpicHtml</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

        <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span> <span class="o">=</span>  <span class="n">webdriver</span><span class="o">.</span><span class="n">Firefox ...</span></pre></div></body>	
						 <a class="readmore" href="../2015/01/23/selenium/">Lire la suite …</a>
						</div>
					</div>
        
 
			                <div class="post summary">
						<h2 class="title"><a href="../2015/01/22/selenium/">selenium-专题10</a></h2>
						<p class="meta"><span class="date">日期 四 22 一月 2015</span><span class="posted">By <a href="#">peng.lee</a></span></p>
						<div style="clear: both;">&nbsp;</div>
						<div class="entry">
						 <body><h3 id="1chang-jian-wen-ti">1.常见问题</h3>
<h4 id="11-ru-he-shi-yong-chromedriver">1.1 如何使用ChromeDriver?</h4>
<p>下载最新的chromedriver<a href="https://sites.google.com/a/chromium.org/chromedriver/downloads">chromedriver from download page</a>,解压文件：</p>
<div class="highlight"><pre><span></span>unzip chromedriver_linux32_x.x.x.x.zip
</pre></div>
<p>解压后，会看到chromedriver的二进制文件。然后可以像这样创建Chrome WebDriver实例：
　
    driver = webdriver.Chrome(executable_path="/path/to/chromedriver")</p>
<h4 id="12-selenium-2shi-fou-zhi-chi-xpath20">1.2　Selenium 2是否支持XPath2.0?</h4>
<p>参考<a href="http://www.seleniumhq.org/docs/03_webdriver.jsp#how-xpath-works-in-webdriver"> http://seleniumhq.org/docs/03_webdriver.html#how-xpath-works-in-webdriver</a>
Selenium 将XPath查询委派给浏览器自己的XPath引擎查询，所以Selenium支持的XPath取决于浏览器的支持。如果浏览器没有XPath引擎（如IE6,7,8)，则Selenium就支持XPath1.0 ...</p></body>	
						 <a class="readmore" href="../2015/01/22/selenium/">Lire la suite …</a>
						</div>
					</div>
        
 
			                <div class="post summary">
						<h2 class="title"><a href="../2015/01/21/selenium/">selenium-专题9</a></h2>
						<p class="meta"><span class="date">日期 三 21 一月 2015</span><span class="posted">By <a href="#">peng.lee</a></span></p>
						<div style="clear: both;">&nbsp;</div>
						<div class="entry">
						 <body><h3 id="remote-webdriver">Remote WebDriver</h3>
<p>WebDriver实现。</p>
<p>class selenium.webdriver.remote.webdriver.WebDriver(command_executor='http://127.0.0.1:4444/wd/hub', desired_capabilities=None, browser_profile=None, proxy=None, keep_alive=False, file_detector=None)</p>
<p>Bases: object
控制浏览器向remote server发送命令。Remote server 运行的协议定义为<a href="https://github.com/SeleniumHQ/selenium/wiki/JsonWireProtocol">https://github.com/SeleniumHQ/selenium/wiki/JsonWireProtocol</a>.
属性：
    * session_id- webdriver用于打开和控制浏览器窗口的ＩＤ字符串
    * capabilities- Dictionaty of effective capabilities ...</p></body>	
						 <a class="readmore" href="../2015/01/21/selenium/">Lire la suite …</a>
						</div>
					</div>
        
 
			                <div class="post summary">
						<h2 class="title"><a href="../2015/01/20/selenium/">selenium-专题8</a></h2>
						<p class="meta"><span class="date">日期 二 20 一月 2015</span><span class="posted">By <a href="#">peng.lee</a></span></p>
						<div style="clear: both;">&nbsp;</div>
						<div class="entry">
						 <body><h3 id="alert">Alert</h3>
<p>警告相关的实现</p>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="n">selenium</span>.<span class="n">webdriver</span>.<span class="n">common</span>.<span class="n">alert</span>.<span class="n">Alert</span>(<span class="n">driver</span>)
    <span class="n">Bases:</span> <span class="n">object</span>
    <span class="n">允许使用alerts</span>.
    <span class="n">使用这个类作为与alert互动的接口</span>。<span class="n">它包括dismissing</span>(<span class="n">忽略</span>），<span class="n">accepting</span>(<span class="n">接受</span>），<span class="n">inputting</span>（<span class="n">输入</span>）<span class="n">和获取警告提示的文本信息的方法</span>。
    <span class="n">接受</span>／<span class="n">忽略警报信息</span>：
        <span class="n">Alert</span>(<span class="n">driver</span>).<span class="n">accpet</span>()
        <span class="n">Alert</span>(<span class="n">driver</span>).<span class="n">dismiss</span>()

    <span class="n">往警报信息中输入</span>：
        <span class="n">name_prompt</span> = <span class="n">Alert</span>(<span class="n">driver</span>)<span class="n">name_prompt</span>.<span class="n">send_keys</span>(<span class="s">"Willian Shakesphere"</span>)
        <span class="n">name_prompt</span>.<span class="n">accept</span>()

    <span class="n">读取警报信息作为验证</span>：
        <span class="n">alert_text</span> = <span class="n">Alert</span>(<span class="n">driver</span>).<span class="n">text</span> <span class="k">self</span>.<span class="n">assertEqual</span>(<span class="s">"Do you wish to quit ...</span></pre></div></body>	
						 <a class="readmore" href="../2015/01/20/selenium/">Lire la suite …</a>
						</div>
					</div>
        
 
			                <div class="post summary">
						<h2 class="title"><a href="../2015/01/19/selenium/">selenium-专题7</a></h2>
						<p class="meta"><span class="date">日期 一 19 一月 2015</span><span class="posted">By <a href="#">peng.lee</a></span></p>
						<div style="clear: both;">&nbsp;</div>
						<div class="entry">
						 <body><h3 id="webdriver-api">WebDriver API</h3>
<p>注：这不是官方API文档，官方在这：<a href="https://seleniumhq.github.io/selenium/docs/api/py/api.html">Selenium Documentation</a></p>
<p>本篇覆盖了Selenium Webdriver的所有接口。</p>
<p><strong>推荐导入样式</strong>
本节API展示了类的绝对位置。推荐的导入风格如下：</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
</pre></div>
<p>然后，可以访问的类如下：</p>
<div class="highlight"><pre><span></span>webdriver.Firefox
webdriver.FirefoxProfile
webdriver.Chrome
webdriver.ChromeOptions
webdriver.Ie
webdriver.Opera
webdriver.PhantomJS
webdriver.Remote
webdriver.DesiredCapabilities
webdriver.ActionChains
webdriver.TouchActions
webdriver.Proxy
</pre></div>
<p>特殊键类（keys)可以这样导入：</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">selenium.webdriver.common.keys ...</span></pre></div></body>	
						 <a class="readmore" href="../2015/01/19/selenium/">Lire la suite …</a>
						</div>
					</div>
        
 
			                <div class="post summary">
						<h2 class="title"><a href="../2015/01/18/selenium/">selenium-专题6</a></h2>
						<p class="meta"><span class="date">日期 日 18 一月 2015</span><span class="posted">By <a href="#">peng.lee</a></span></p>
						<div style="clear: both;">&nbsp;</div>
						<div class="entry">
						 <body><h3 id="ye-mian-dui-xiang">页面对象</h3>
<p>该篇是介绍页面对象设计模式的方法。页面对象是Web应用程序用户界面的区域，测试时主要在此区域。</p>
<p>使用页面对象模式的好处：</p>
<ul>
<li>创建多测试用例共用的可重复代码</li>
<li>减少重复的代码</li>
<li>如果用户界面发生改变，只需修改一次对应部分</li>
</ul>
<h4 id="ce-shi-yong-li">测试用例</h4>
<p>以下是一个测试python.org搜索字符串的用例，并且确保可以查到一些结果。</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">unittest</span>
<span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
<span class="kn">import</span> <span class="nn">page</span>

<span class="k">class</span> <span class="nc">PythonOrgSearch</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="sd">'''A sample teest class to show how page object works'''</span>

    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Firefox</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"http://www.python.org"</span><span class="p">)</span>

    <span class="k">def ...</span></pre></div></body>	
						 <a class="readmore" href="../2015/01/18/selenium/">Lire la suite …</a>
						</div>
					</div>
        
 
			                <div class="post summary">
						<h2 class="title"><a href="../2015/01/17/selenium/">selenium-专题5</a></h2>
						<p class="meta"><span class="date">日期 六 17 一月 2015</span><span class="posted">By <a href="#">peng.lee</a></span></p>
						<div style="clear: both;">&nbsp;</div>
						<div class="entry">
						 <body><h3 id="deng-dai">等待</h3>
<p>目前大多数网络应用都在使用AJAX技术。当浏览器加载一个页面，页面上的元素可能分多次进行加载。这会导致元素定位困难，如果元素没有在DOM中出现，则会触发ElementNotVisibleException异常。通过等待，我们可以解决这个问题。等待提供了设置操作间的时间间隔－元素定位直接或其他元素操作。</p>
<p>Selenium Webdriver 提供了等待的两种类型，implicit和explicit。显式等待是使webdriver在操作之间有确定的时间等待。隐式等待是使WebDriver 去间隔的轮询DOM，尝试定位到元素。</p>
<h4 id="xian-shi-deng-dai">显式等待</h4>
<p>显式等待是代码中定义一定的条件，等待条件达成，继续执行。最差的方式是time.sleep(),通过设置等待时间间隔实现。有一些便利方法，会帮助设置等待时间。WebDriverWait与ExpectedCondition组合就是其中一种实现方式。</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.common.by</span> <span class="kn">import</span> <span class="n">By</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.support.ui</span> <span class="kn">import</span> <span class="n">WebDriverWait</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver ...</span></pre></div></body>	
						 <a class="readmore" href="../2015/01/17/selenium/">Lire la suite …</a>
						</div>
					</div>
        
 
			                <div class="post summary">
						<h2 class="title"><a href="../2015/01/16/selenium/">selenium-专题4</a></h2>
						<p class="meta"><span class="date">日期 五 16 一月 2015</span><span class="posted">By <a href="#">peng.lee</a></span></p>
						<div style="clear: both;">&nbsp;</div>
						<div class="entry">
						 <body><h3 id="yuan-su-ding-wei">元素定位</h3>
<p>提供很多种方式去定位页面的元素。可以从中选择一个适合的用于测试。Selenium 提供了以下方法用于定位页面元素：</p>
<div class="highlight"><pre><span></span>*find_element_by_id
*find_element_by_name
*find_element_by_xpath
*find_element_by_link_text
*find_element_by_partial_link_text
*find_element_by_tag_name
*find_element_by_class_name
*find_element_By_css_selector
</pre></div>
<p>要找到多个元素（这些方法将返回一个列表）：</p>
<div class="highlight"><pre><span></span>*find_elements_by_name
*find_elements_by_xpath
*find_elements_by_link_text
*find_elements_by_partial_link_text
*find_elements_by_tag_name
*find_elements_by_class_name
*find_elements_by_css_selector
</pre></div>
<p>除了上面列出的公共方法外，还有两个用于页面对象定位器的私有方法。这两个私有方法是：find_element 和　find_elements.
用法例子：</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">selenium.webdriver.common.by</span> <span class="kn">import</span> <span class="n">By</span>

<span class="n">driver</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">XPATH</span><span class="p">,</span> <span class="s1">'//button[test()="Some text"]'</span><span class="p">)</span>
<span class="n">driver</span><span class="o">.</span><span class="n">find_elements</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">XPATH</span><span class="p">,</span> <span class="s1">'//button'</span><span class="p">)</span>
</pre></div>
<p>这些都是类可用的属性 ...</p></body>	
						 <a class="readmore" href="../2015/01/16/selenium/">Lire la suite …</a>
						</div>
					</div>
        
 
			                <div class="post summary">
						<h2 class="title"><a href="../2015/01/15/selenium/">selenium-专题3</a></h2>
						<p class="meta"><span class="date">日期 四 15 一月 2015</span><span class="posted">By <a href="#">peng.lee</a></span></p>
						<div style="clear: both;">&nbsp;</div>
						<div class="entry">
						 <body><h3 id="dao-hang">导航</h3>
<p>使用WebDriver第一件想做的事情就是导航到指定链接。通常可以调用get方法去实现：</p>
<div class="highlight"><pre><span></span>driver.get("http://www.google.com")
</pre></div>
<p>driver.get方法会导航到url指定的页面。webdriver会等待页面完全加载后，把控制权还给test脚本。需要注意的是，如果页面中使用了大量的AJAX负载过大，webdriver可能不知道什么时间加载完成。如果你想确保页面加载完全可以使用wait.</p>
<h4 id="ye-mian-jiao-hu">页面交互</h4>
<p>只是导航到指定链接并不是很有用。我们想做的页面上的交互，准确的说是页面的元素操作。首先，我们要先找到它。webdriver提供了很多方法去找到元素，例如，元素定义如下：</p>
<div class="highlight"><pre><span></span>&lt;input type="text" name="passwd" id="passwd-id" /&gt;
</pre></div>
<p>你可以使用下面方法找到该元素：</p>
<div class="highlight"><pre><span></span>element = driver.find_element_by_id("passwd-id")
element = driver.find_element_by_name("passwd")
element = driver.find_element_by_xpath("//input[@id='passwd-id']")
</pre></div>
<p>还可以通过文本去找到链接，但要小心 ...</p></body>	
						 <a class="readmore" href="../2015/01/15/selenium/">Lire la suite …</a>
						</div>
					</div>
        
 
			                <div class="post summary">
						<h2 class="title"><a href="../2015/01/14/selenium/">selenium-专题2</a></h2>
						<p class="meta"><span class="date">日期 三 14 一月 2015</span><span class="posted">By <a href="#">peng.lee</a></span></p>
						<div style="clear: both;">&nbsp;</div>
						<div class="entry">
						 <body><h3 id="ru-men">入门</h3>
<h4 id="jian-dan-yong-fa">简单用法</h4>
<p>如果已经具备了Selenium＆Python，可以这样开始使用：</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.common.keys</span> <span class="kn">import</span> <span class="n">Keys</span>

<span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Firefox</span><span class="p">()</span>
<span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"http://www.python.org"</span><span class="p">)</span>
<span class="k">assert</span> <span class="s2">"Python"</span> <span class="ow">in</span> <span class="n">driver</span><span class="o">.</span><span class="n">title</span>
<span class="n">elem</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_name</span><span class="p">(</span><span class="s2">"q"</span><span class="p">)</span>
<span class="n">elem</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="n">elem</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s2">"pycon"</span><span class="p">)</span>
<span class="n">elem</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">Keys</span><span class="o">.</span><span class="n">RETURN</span><span class="p">)</span>
<span class="k">assert</span> <span class="s2">"No results found."</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">driver ...</span></pre></div></body>	
						 <a class="readmore" href="../2015/01/14/selenium/">Lire la suite …</a>
						</div>
					</div>
        
 
			                <div class="post summary">
						<h2 class="title"><a href="../2015/01/13/selenium/">selenium-专题1</a></h2>
						<p class="meta"><span class="date">日期 二 13 一月 2015</span><span class="posted">By <a href="#">peng.lee</a></span></p>
						<div style="clear: both;">&nbsp;</div>
						<div class="entry">
						 <body><p>该topic将开始学习selenium的使用。主要内容如下</p>
<ul>
<li>1.安装</li>
<li>2.入门</li>
<li>3.导航</li>
<li>4.元素定位</li>
<li>5.等待</li>
<li>6.页面对象</li>
<li>7.WebDriver API</li>
<li>8.常见问题</li>
</ul>
<h3 id="an-zhuang">安装</h3>
<h4 id="jian-jie">简介</h4>
<p>Selenium＆python提供了使用Selenium WebDriver编写功能／通过性测试的ＡＰＩ。通过Selenium Python API可以直观的使用Selenium的功能。
Selenium&amp;python提供了直观的ＡＰＩ访问Selenium WebDrivers如firefox、ie、chrome、Remote等。目前支撑的python版本为2.7\3.2及以上。
本文只涉及Selenium 2 WebDriver.Selenium1没有覆盖。</p>
<h4 id="xia-zai-selenium-pythonzhi-chi-bao">下载Selenium python支持包</h4>
<p>可以在<a href="https://pypi.python.org/pypi/selenium">PyPI page for selenium package ...</a></p></body>	
						 <a class="readmore" href="../2015/01/13/selenium/">Lire la suite …</a>
						</div>
					</div>
        
 
			                <div class="post summary">
						<h2 class="title"><a href="../2015/01/12/自动化测试/">selenium-浏览器性能测试</a></h2>
						<p class="meta"><span class="date">日期 一 12 一月 2015</span><span class="posted">By <a href="#">peng.lee</a></span></p>
						<div style="clear: both;">&nbsp;</div>
						<div class="entry">
						 <body><p>浏览器是系统下比较常用的软件，在linux系统比较常用的是firefox、chrome.如何评估浏览器的基础性能？有很多评测网站进行了这边的测试。
如
<em> <a href="http://css4-selectors.com/browser-selector-test/">CSS</a>
</em> <a href="http://acid3.acidtests.org/">acid3</a>
<em> <a href="http://chrome.360.cn/test/v8/run.html">v8test</a>
</em> <a href="http://chrome.2345.com/labs/test/octanebenchmark.html">octane</a>
<em> <a href="http://html5test.com/">html5</a>
</em> <a href="http://dromaeo.com/">dromaeo</a>等</p>
<p>考虑到每次测试都需要点击这些网站和取测试结果，决定采用selenium去实现自动测试。
测试代码如下：
browser-run.py:</p>
<p>```python</p>
<div class="highlight"><pre><span></span><span class="c1">#encoding = utf-8</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">runtest</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">sys</span>  
<span class="kn">from</span> <span class="nn">subprocess</span> <span class="kn">import</span> <span class="n">call</span>
<span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
<span class="nb">reload</span><span class="p">(</span><span class="n">sys</span><span class="p">)</span>
<span class="n">sys</span><span class="o">.</span><span class="n">setdefaultencoding</span><span class="p">(</span><span class="s1">'utf8'</span><span class="p">)</span>

<span class="c1"># create logger with 'spam_application'</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s1">'browser-test ...</span></pre></div></body>	
						 <a class="readmore" href="../2015/01/12/自动化测试/">Lire la suite …</a>
						</div>
					</div>
					<div style="clear: both;">&nbsp;</div>
				</div>
				<div id="sidebar">
					<div id="logo">
						<h1><a href="..">Hi | World</a></h1>
					</div>
					<div id="menu">
						<ul>
							<li ><a href="..">首页</a></li>
							<li ><a href="../archives.html">归档</a></li>
                                                            <li ><a href="../pages/opensource.html">开源项目</a></li>
                                                            <li ><a href="../pages/links.html">链接</a></li>
                                                            <li ><a href="../pages/Reference material.html">参考资料</a></li>
                                                            <li ><a href="../pages/todo list.html">Todo List</a></li>
                                                            <li ><a href="../pages/tools.html">工具集</a></li>
                                                            <li ><a href="../pages/aboutme.html">关于我</a></li>
						</ul>
					</div>
					<ul>
						<li>
							<h2>分类列表</h2>
							<ul>
								 <li ><a href="../category/misc.html">misc</a></li>
								 <li ><a href="../category/autotestzhuan-ti.html">Autotest专题</a></li>
								 <li ><a href="../category/suan-fa.html">算法</a></li>
								 <li ><a href="../category/dockerzhuan-ti.html">Docker专题</a></li>
								 <li ><a href="../category/linux.html">Linux</a></li>
								 <li ><a href="../category/linux-benchmark.html">linux-benchmark</a></li>
								 <li ><a href="../category/linux-zi-dong-hua-ce-shi.html">linux-自动化测试</a></li>
								 <li ><a href="../category/unixhuan-jing-bian-cheng.html">unix环境编程</a></li>
								 <li ><a href="../category/xing-neng-ce-shi.html">性能测试</a></li>
							</ul>
						</li>
						<li>
						        <h2>Tags</h2>
						        <ul>
                                                                <li><a href="../tag/selenium.html">Selenium</a></li>
                                                                <li><a href="../tag/zi-dong-hua-ce-shi.html">自动化测试</a></li>
                                                                <li><a href="../tag/ltp.html">LTP</a></li>
                                                                <li><a href="../tag/shell.html">shell</a></li>
                                                                <li><a href="../tag/suan-fa.html">算法</a></li>
                                                                <li><a href="../tag/xing-neng-ce-shi.html">性能测试</a></li>
                                                                <li><a href="../tag/python.html">Python</a></li>
                                                                <li><a href="../tag/docker.html">Docker</a></li>
                                                                <li><a href="../tag/benchmark.html">benchmark</a></li>
                                                                <li><a href="../tag/qi-ta.html">其他</a></li>
                                                                <li><a href="../tag/unixbian-cheng.html">unix编程</a></li>
                                                                <li><a href="../tag/linux.html">Linux</a></li>
                                                                <li><a href="../tag/pyunit.html">PyUnit</a></li>
						        </ul>
						</li>
						
						
					</ul>
				</div>
				<!-- end #sidebar -->
				<div style="clear: both;">&nbsp;</div>
			</div>
		</div>
	</div>
	<!-- end #page -->

<div id="footer">
	<p>Copyright (c) 2008 Sitename.com. All rights reserved. Design by <a href="http://www.freecsstemplates.org/">CSS Templates</a>.</p>
	<p>Proudly powered by <a href="http://alexis.notmyidea.org/pelican/">pelican</a>, which takes great advantages of <a href="http://python.org">python</a>.
</p>
</div>
<!-- end #footer -->
</body>
</html>